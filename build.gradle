plugins {
    id('org.jetbrains.kotlin.jvm') version '1.4.21'
    id('org.jetbrains.kotlin.plugin.spring') version '1.4.21'
    id('org.springframework.boot') version '2.4.1'
    id('io.spring.dependency-management') version '1.0.10.RELEASE'
}

group = 'org.example'
version = '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

configurations {
    lib
}

dependencies {
    implementation('org.springframework.boot:spring-boot-starter')
}

task jarLib(type: Jar) {
    archiveClassifier = 'lib'
    from sourceSets.main.output
    dependsOn configurations.runtimeClasspath
}

artifacts {
    lib jarLib
}